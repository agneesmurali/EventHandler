{% extends "base.html" %}

{% block title %}Home - Event Scheduling System{% endblock %}

{% block content %}

<style>
    /* Gradient Banner */
    .hero-banner {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        border-radius: 18px;
        color: white;
        padding: 60px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        animation: fadeIn 0.9s ease-in-out;
    }

    /* Dashboard Cards */
    .dash-card {
        border-radius: 18px;
        padding: 25px;
        transition: 0.3s;
        color: #fff;
        box-shadow: 0 10px 20px rgba(0,0,0,0.12);
    }
    .dash-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 15px 25px rgba(0,0,0,0.18);
    }

    /* Colors */
    .card-events { background: #4f8cff; }
    .card-resources { background: #26c281; }
    .card-allocations { background: #17a2b8; }
    .card-reports { background: #f4b400; color: #000; }

    /* Recent Events Table */
    .table-custom {
        border-radius: 12px;
        overflow: hidden;
        animation: slideUp 0.6s ease-in-out;
    }
    .table-custom thead {
        background: #4facfe;
        color: white;
    }

    /* Animations */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideUp {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>


<!-- Hero Section -->
<div class="hero-banner text-center mb-5">
    <h1 class="display-4 fw-bold">Event Scheduling & Resource Allocation System</h1>
    <p class="lead mt-3">Schedule events, Manage resources, and Track allocations with ease.</p>
    <p>Efficient,Smart,Conflict-Free Resource Booking.</p>
</div>

<!-- Dashboard Cards -->
<div class="row g-4 mb-4">

    <div class="col-md-3">
        <div class="dash-card card-events text-center">
            <i class="bi bi-calendar-event display-4"></i>
            <h5 class="mt-3 fw-bold">Events</h5>
            <p>{{ event_count }} recent events</p>
            <a href="{{ url_for('events') }}" class="btn btn-light btn-sm fw-bold">View All</a>
        </div>
    </div>

    <div class="col-md-3">
        <div class="dash-card card-resources text-center">
            <i class="bi bi-box display-4"></i>
            <h5 class="mt-3 fw-bold">Resources</h5>
            <p>{{ resource_count }} total resources</p>
            <a href="{{ url_for('resources') }}" class="btn btn-light btn-sm fw-bold">View All</a>
        </div>
    </div>

    <div class="col-md-3">
        <div class="dash-card card-allocations text-center">
            <i class="bi bi-link-45deg display-4"></i>
            <h5 class="mt-3 fw-bold">Allocations</h5>
            <p>Manage resource reservations</p>
            <a href="{{ url_for('allocations') }}" class="btn btn-light btn-sm fw-bold">View All</a>
        </div>
    </div>

    <div class="col-md-3">
        <div class="dash-card card-reports text-center">
            <i class="bi bi-graph-up display-4"></i>
            <h5 class="mt-3 fw-bold">Reports</h5>
            <p>Resource usage insights</p>
            <a href="{{ url_for('utilization_report') }}" class="btn btn-light btn-sm fw-bold">View Reports</a>
        </div>
    </div>

</div>


<!-- Recent Events Table -->
{% if events %}
<div class="row mt-4">
    <div class="col-md-12">
        <h3 class="fw-bold mb-3">ðŸ“… Recent Events</h3>

        <div class="table-responsive table-custom">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Title</th>
                        <th>Start Time</th>
                        <th>End Time</th>
                        <th>Resources</th>
                    </tr>
                </thead>
                <tbody>
                    {% for event in events %}
                    <tr>
                        <td><strong>{{ event.title }}</strong></td>
                        <td>{{ event.start_time.strftime('%Y-%m-%d %H:%M') }}</td>
                        <td>{{ event.end_time.strftime('%Y-%m-%d %H:%M') }}</td>
                        <td>
                            {% if event.resources %}
                                {% for res in event.resources %}
                                    <span class="badge bg-primary">{{ res }}</span>
                                {% endfor %}
                            {% else %}
                                <span class="text-muted">None</span>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

    </div>
</div>
{% endif %}

{% endblock %}
